<!doctype html>
<html lang=nl>

<head>
  <meta charset=utf-8>
  <meta name="robots" content="all">
  <title>Watervoedingsysteem</title>
  <link rel="icon" type="png" href="afbeeldingen/symbool.png">
  <script src="/componenten/menu.js" type="text/javascript" defer></script>
  <script src="/componenten/voet.js" type="text/javascript" defer></script>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>
    <menu></menu>
</head>

<body>
  <div class="container">
    <div style="margin-top: 80px;"></div>
    <h2>Arduino IDE</h2>
    <p>De Arduino IDE (Integrated Development Environment) is een softwareprogramma dat speciaal is ontworpen voor
      het programmeren van Arduino-microcontrollers. Het biedt een set tools waarmee je code kunt schrijven,
      compileren en uploaden naar een Arduino-board.</p>
    <h5>Kenmerken:</h5>
    <ul class="list-group">
      <li class="list-group-item">1. De Arduino IDE biedt een gebruiksvriendelijke interface, zelfs voor beginners
        in het programmeren. Het heeft een eenvoudige structuur en een overzichtelijke lay-out.</li>
      <li class="list-group-item">2. De Arduino IDE maakt gebruik van de programmeertalen C en C++.</li>
      <li class="list-group-item">3. Arduino heeft een uitgebreide documentatie en een actieve gemeenschap van
        gebruikers. Dit betekent dat je gemakkelijk toegang hebt tot tutorials, handleidingen en voorbeelden om
        je te helpen bij het leren en ontwikkelen van Arduino-projecten.</li>
      <li class="list-group-item">4. De Arduino IDE is beschikbaar voor verschillende besturingssystemen,
        waaronder Windows, macOS en Linux.</li>
      <li class="list-group-item">5. De Arduino IDE wordt regelmatig bijgewerkt met nieuwe functies en bugfixes.
        Het is raadzaam om de nieuwste versie van de IDE te gebruiken om te profiteren van de meest recente
        verbeteringen.</li>
    </ul>
  </div>
  <div style="margin-top: 60px;"></div>
  <div class="container">
    <h2>Code</h2>
    <a href="../code/code.ino" download>Download</a>
    <pre><code class="arduino">
            #include &lt;AltSoftSerial.h&gt;
            #include &lt;Wire.h&gt;
            #include &lt;LiquidCrystal_I2C.h&gt;
            LiquidCrystal_I2C lcd(0x27, 20, 4);
        
            // RO to pin 8 &amp; DI to pin 9 when using AltSoftSerial
            #define RE 6
            #define DE 7
        
            const byte nitro[] = {0x01, 0x03, 0x00, 0x1e, 0x00, 0x01, 0xe4, 0x0c};
            const byte phos[] = {0x01, 0x03, 0x00, 0x1f, 0x00, 0x01, 0xb5, 0xcc};
            const byte pota[] = {0x01, 0x03, 0x00, 0x20, 0x00, 0x01, 0x85, 0xc0};
        
            byte values[11];
            AltSoftSerial mod;
        
            int motorPin = 5;
            int sensorPin = A0;
            int sensorValue; 
            int vocht;
            int fout;
            void setup() {
              Serial.begin(19200);
              mod.begin(9600);
              pinMode(sensorValue, INPUT);
              pinMode(RE, OUTPUT);
              pinMode(DE, OUTPUT);
              pinMode(motorPin, OUTPUT);
              digitalWrite(DE, LOW);
              digitalWrite(RE, LOW);
              lcd.init();
              lcd.backlight();
            }
        
            void loop() {
              Serial.println("test oke");
              digitalWrite(13,HIGH);
              delay(1000);
              digitalWrite(13, LOW);
              delay(1000);
              sensorValue = analogRead(sensorPin);
              vocht = map(sensorValue, 826, 454, 0, 100);
              byte val1, val2, val3;
        
              val1 = nitrogen();
              delay(250);
        
              val2 = phosphorous();
              delay(250);
        
              val3 = potassium();
              delay(250);
              if ((val1 == 255)&amp; (val2==255)&amp;(val3==255)){
                fout = 1;
                lcd.clear();
                lcd.setCursor(5,1);
                lcd.print("loading");
                lcd.setCursor(12,1);
                lcd.print(".");
                delay(500);
                lcd.print(".");
                delay(500);
                lcd.print(".");
                delay(500);
        
              }else{
                fout =0;
              }
              if (fout == 0){
                lcd.clear();
                lcd.setCursor(0, 0);
                lcd.print("vochtigheid : ");
                lcd.setCursor(14,0);
                lcd.print(vocht);
                if (vocht &lt;10){
                  lcd.setCursor(16,0);
                  lcd.print("%");
                }
                else if(vocht &lt;100) {
                  lcd.setCursor(17,0);
                  lcd.print("%");
                }
                else if(vocht = 100){
                  lcd.setCursor(18,0);
                  lcd.print("%");
                }
        
                lcd.setCursor(0, 1);
                lcd.print("stikstof : ");
                lcd.setCursor(11,1);
                lcd.print(val1);
                if (val1 &lt;10){
                  lcd.setCursor(13,1);
                  lcd.print("mg/kg");
                }
                else if (val1 &lt; 100) {
                  lcd.setCursor(14,1);
                  lcd.print("mg/kg");
                }
                else if (val1 &gt;100){
                  lcd.setCursor(15,1);
                  lcd.print("mg/kg");   
                }
        
                lcd.setCursor(0, 2);
                lcd.print("fosfaat : ");
                lcd.setCursor(11,2);
                lcd.print(val2);
                if (val2 &lt;10){
                  lcd.setCursor(13,2);
                  lcd.print("mg/kg");
                }
                else if (val2 &lt; 100) {
                  lcd.setCursor(14,2);
                  lcd.print("mg/kg");
                }
                else if (val2 &gt;100){
                  lcd.setCursor(15,2);
                  lcd.print("mg/kg");   
                }
        
                lcd.setCursor(0, 3);
                lcd.print("kalium : ");
                lcd.setCursor(11,3);
                lcd.print(val3);
                if (val3 &lt;10){
                  lcd.setCursor(13,3);
                  lcd.print("mg/kg");
                }
                else if (val3 &lt; 100) {
                  lcd.setCursor(14,3);
                  lcd.print("mg/kg");
                }
                else if (val3 &gt;100){
                  lcd.setCursor(15,3);
                  lcd.print("mg/kg");   
                }
              }
            }
        
            byte nitrogen() {
              mod.flushInput();
              digitalWrite(DE, HIGH);
              digitalWrite(RE, HIGH);
              delay(1);
              for (uint8_t i = 0; i &lt; sizeof(nitro); i++ ) mod.write( nitro[i] );
              mod.flush();
              digitalWrite(DE, LOW);
              digitalWrite(RE, LOW);
              delay(200);
              for (byte i = 0; i &lt; 7; i++) {
                values[i] = mod.read();
                Serial.print(values[i], HEX);
                Serial.print(' ');
              }
              return values[4];
            }
        
            byte phosphorous() {
              mod.flushInput();
              digitalWrite(DE, HIGH);
              digitalWrite(RE, HIGH);
              delay(1);
              for (uint8_t i = 0; i &lt; sizeof(phos); i++ ) mod.write( phos[i] );
              mod.flush();
              digitalWrite(DE, LOW);
              digitalWrite(RE, LOW);
              delay(200);
              for (byte i = 0; i &lt; 7; i++) {
                values[i] = mod.read();
                Serial.print(values[i], HEX);
                Serial.print(' ');
              }
              return values[4];
            }
        
            byte potassium() {
              mod.flushInput();
              digitalWrite(DE, HIGH);
              digitalWrite(RE, HIGH);
              delay(1);
              for (uint8_t i = 0; i &lt; sizeof(pota); i++ ) mod.write( pota[i] );
              mod.flush();
              digitalWrite(DE, LOW);
              digitalWrite(RE, LOW);
              delay(200);
              for (byte i = 0; i &lt; 7; i++) {
                values[i] = mod.read();
                Serial.print(values[i], HEX);
                Serial.print(' ');
              }
              return values[4];
            }
        </code></pre>
  </div>
</body>
<footer>
  <voet></voet>
</footer>

</html>